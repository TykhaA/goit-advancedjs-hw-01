{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["\nimport throttle from 'lodash.throttle'\n\nconst input = document.querySelector('input');\nconst textarea = document.querySelector('textarea');\nconst form = document.querySelector('form');\n\nconst KEY = \"feedback-form-state\";\n\nlet throt_fun = throttle(handlValue, 500);\n\ninput.addEventListener(\"input\", throt_fun);\ntextarea.addEventListener(\"input\", throt_fun);\nform.addEventListener(\"submit\", handlSubmit);\nconst obj = {};\nfunction handlValue() {\n\n    obj.email = input.value;\n    obj.message = textarea.value;\n        localStorage.setItem(KEY, JSON.stringify(obj));\n}\n\nconst getItem = JSON.parse(localStorage.getItem(KEY));\n\nif (getItem) {\n    input.value = getItem.email;\n    textarea.value = getItem.message;\n}\nfunction handlSubmit(evt) {\n    evt.preventDefault();\n    if (!input.value.trim().length || !textarea.value.trim().length) return;\n    localStorage.removeItem(KEY);\n    obj.email = input.value;\n    obj.message = textarea.value;\n    console.log(obj);\n    form.reset();\n}\n"],"names":["input","textarea","form","KEY","throt_fun","throttle","handlValue","handlSubmit","obj","getItem","evt"],"mappings":"wIAGA,MAAMA,EAAQ,SAAS,cAAc,OAAO,EACtCC,EAAW,SAAS,cAAc,UAAU,EAC5CC,EAAO,SAAS,cAAc,MAAM,EAEpCC,EAAM,sBAEZ,IAAIC,EAAYC,EAASC,EAAY,GAAG,EAExCN,EAAM,iBAAiB,QAASI,CAAS,EACzCH,EAAS,iBAAiB,QAASG,CAAS,EAC5CF,EAAK,iBAAiB,SAAUK,CAAW,EAC3C,MAAMC,EAAM,CAAA,EACZ,SAASF,GAAa,CAElBE,EAAI,MAAQR,EAAM,MAClBQ,EAAI,QAAUP,EAAS,MACnB,aAAa,QAAQE,EAAK,KAAK,UAAUK,CAAG,CAAC,CACrD,CAEA,MAAMC,EAAU,KAAK,MAAM,aAAa,QAAQN,CAAG,CAAC,EAEhDM,IACAT,EAAM,MAAQS,EAAQ,MACtBR,EAAS,MAAQQ,EAAQ,SAE7B,SAASF,EAAYG,EAAK,CACtBA,EAAI,eAAc,EACd,GAACV,EAAM,MAAM,OAAO,QAAU,CAACC,EAAS,MAAM,KAAM,EAAC,UACzD,aAAa,WAAWE,CAAG,EAC3BK,EAAI,MAAQR,EAAM,MAClBQ,EAAI,QAAUP,EAAS,MACvB,QAAQ,IAAIO,CAAG,EACfN,EAAK,MAAK,EACd"}